<%= form_for @trip do |f| %>
  <%= render "shared/error_messages", object: f.object %>
  <label>Trip Name:</label>
  <br/>
  <%= f.text_field :name, class: "col-md-6", autocomplete: :off %>
  <br/>
  <br/>
  <label>Age Range:</label>
  <br/>
  <%= f.select :age_min, ('18'..'65').to_a, {prompt: "-- age min --"} %>
  <%= f.select :age_max, ('18'..'65').to_a, {prompt: "-- age max --"} %>
  <br/>
  <br/>
  <label>Group Size:</label>
  <br/>
  <%= f.select :group_size, ('1'..'30').to_a %>
  <br/>
  <br/>
  <label>Description</label>
  <br/>
  <%= f.text_area :description, placeholder: "Description...", class: "col-md-6", rows: 7, autocomplete: :off %>
  <br/>
  <br/>
  <label>Location:</label>
  <br/>
  <%= f.fields_for :location do |builder| %>
    <%= builder.text_field :address1, placeholder: "Street Address 1" %>
    <br/>
    <%= builder.text_field :address2, placeholder: "Street Address 2" %>
    <br/>
    <%= builder.text_field :city, placeholder: "City" %>
    <%= builder.text_field :state, placeholder: "State" %>
    <%= builder.text_field :zip, placeholder: "Zip" %>
    <br/>
    <% request.location.country == "United States" ? country = "United States of America" : country = "" %>
    <% if action_name == "edit" || action_name == "update" %>
      <%= builder.select :country, Ravibhim::Continents::COUNTRIES, { prompt: "--select country--" } %>
    <% else %>
      <%= builder.select :country, Ravibhim::Continents::COUNTRIES, { prompt: "--select country--", selected: country } %>
    <% end %>
  <% end %>
  <br/>
  <hr/>
  <%= f.fields_for :image_attachments do |builder| %>
    <%= render 'shared/image_attachment_fields', f: builder %>
  <% end %>
  <%= link_to_add_fields "<i class='icon-picture'></i> Attach new image +".html_safe, f, :image_attachments %>
  <hr/>
  <label>Active:</label>
  <br/>
  <%= f.select :active, [true, false], {prompt: "--select--"} %>
  <hr/>
  <% action_name == 'edit' ? submit_text = "Update Trip" : submit_text = "Create Trip" %>
  <%= f.submit "#{submit_text}", disable_with: 'Submitting...', class: "btn" %>
  <% if admin_user? && !@trip.new_record? %>
    <%= link_to "Remove This Trip", trip_path(@trip), method: :delete, confirm: "Are you sure you want to remove this?", class: "btn btn-danger" %>
  <% end %>
<% end %>
